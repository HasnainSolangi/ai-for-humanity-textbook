---
id: 01-lesson-10-2-cost-latency-and-capacity-planning
title: "لاگت، تاخیر (Latency) اور صلاحیت کی منصوبہ بندی"
sidebar_label: "لاگت، تاخیر اور صلاحیت کی منصوبہ بندی"
---

# لاگت، تاخیر (Latency) اور صلاحیت کی منصوبہ بندی

اے آئی مہنگا ہے۔ اربوں پیرامیٹرز والے ماڈلز پر انفرینس (inference) چلانے کے لیے درکار کمپیوٹ کثافت روایتی ویب ہوسٹنگ کے مقابلے میں کہیں زیادہ ہے۔ سخت "FinOps" (مالیاتی آپریشنز) اور صلاحیت کی منصوبہ بندی کے بغیر، ایک اے آئی پروجیکٹ کسی شعبے کو دیوالیہ کر سکتا ہے یا ٹریفک میں اچانک اضافے کی صورت میں اپنے ہی بوجھ تلے دب کر کریش ہو سکتا ہے۔

## اے آئی کی معاشی اکائیاں (Unit Economics)

ہمیں لاگت بڑھانے والے عوامل کو سمجھنا ہوگا۔

*   **ٹوکن پر مبنی قیمت کا تعین:** زیادہ تر تجارتی APIs فی ٹوکن (تقریباً 0.75 الفاظ) چارج کرتے ہیں۔ عام طور پر ان پٹ آؤٹ پٹ کے مقابلے میں سستے ہوتے ہیں۔
    *   **حکمت عملی:** "پرومپٹ کمپریشن" (Prompt Compression)۔ ماڈل کو بھیجے گئے سیاق و سباق کو بہتر بنانا (بیکار ٹیگز کو ہٹانا، ہسٹری کو مختصر کرنا) براہِ راست رقم بچاتا ہے۔
*   **جی پی یو ہوسٹنگ (سیلف ہوسٹڈ):** اگر آپ اوپن سورس ماڈلز (جیسے Llama) چلا رہے ہیں، تو آپ "GPU گھنٹوں" کے حساب سے ادائیگی کرتے ہیں۔
    *   **حکمت عملی:** "بن پیکنگ" (Bin Packing)۔ ایک ساتھ کئی درخواستیں GPU پر بھیجنے کی تکنیک استعمال کرنا تاکہ اس کا زیادہ سے زیادہ استعمال ہو سکے۔ ایک بیکار بیٹھا ہوا GPU ضائع شدہ رقم ہے۔

## تاخیر (Latency) کی انجینئرنگ

رفتار خود ایک فیچر ہے۔

*   **پہلے ٹوکن تک کا وقت (TTFT):** پہلے لفظ کے ظاہر ہونے میں لگنے والا وقت۔ یہ صارف کے "تیزی" کے احساس کو طے کرتا ہے۔ جواب کو اسٹریم کرنا (ایک ایک کر کے ٹائپ ہوتے دکھانا) جنریشن کے وقت کو چھپا دیتا ہے اور کارکردگی کے احساس کو بہتر بناتا ہے۔
*   **جنریشن کا کل وقت:** پوری سوچ کو مکمل کرنے کا وقت۔
    *   **بہتری:** "خیالات کا سلسلہ" (Chain of Thought) طاقتور تو ہے لیکن سست ہے۔ سادہ کاموں کے لیے، ایک چھوٹا اور تیز ماڈل استعمال کریں۔ بڑا ماڈل صرف پیچیدہ استدلال کے لیے مخصوص کریں۔
*   **سیمنٹک کیشنگ (Semantic Caching):** مہنگے ماڈل کو کال کرنے سے پہلے، ویکٹر ڈیٹا بیس کیش چیک کریں۔ "کیا کسی صارف نے حال ہی میں اس سے ملتا جلتا سوال پوچھا ہے؟" اگر ہاں، تو محفوظ شدہ جواب واپس کر دیں۔ یہ تاخیر کو 2 سیکنڈ سے کم کر کے 50 ملی سیکنڈ تک لے آتا ہے اور اس کی کوئی لاگت بھی نہیں ہوتی۔

## صلاحیت کی منصوبہ بندی (Capacity Planning)

اے آئی ٹریفک اکثر اچانک اور بے قاعدگی سے آتی ہے۔

*   **آٹو اسکیلنگ کی حدود:** GPUs بھاری وسائل ہیں۔ انہیں شروع ہونے میں منٹوں لگتے ہیں، سیکنڈ نہیں۔ روایتی سی پی یو آٹو اسکیلنگ یہاں ناکام ہو جاتی ہے۔
*   **پیشگوئی پر مبنی اسکیلنگ:** ٹریفک کے پرانے پیٹرنز کو استعمال کرتے ہوئے رش کے اوقات سے *پہلے* ہی GPUs تیار رکھنا۔
*   **درخواستوں کی قطار (Request Queueing):** جب سسٹم کی گنجائش ختم ہو جائے، تو کریش ہونے کے بجائے درخواستوں کو ایک پیغام کے ساتھ قطار میں رکھیں: "ہم پر ابھی کام کا کافی بوجھ ہے، آپ لائن میں چوتھے نمبر پر ہیں۔" یہ سسٹم کے استحکام کو برقرار رکھتا ہے۔

## لاگت کی حدود (Cost Guardrails)

*   **بجٹ کی حد (Budget Cap):** یومیہ اخراجات پر سخت پابندی۔ اگر بل 500 ڈالر تک پہنچ جائے، تو غیر ضروری فیچرز خود بخود بند ہو جائیں۔
*   **فی صارف ریٹ لمٹس:** کسی ایک بڑے صارف کو کلسٹر کے 50% وسائل استعمال کرنے سے روکنا۔

کارکردگی (تاخیر)، دستیابی (صلاحیت)، اور انتظام (لاگت) کے درمیان توازن برقرار رکھنا اے آئی انجینئرنگ کا "آہنی مثلث" (Iron Triangle) ہے۔