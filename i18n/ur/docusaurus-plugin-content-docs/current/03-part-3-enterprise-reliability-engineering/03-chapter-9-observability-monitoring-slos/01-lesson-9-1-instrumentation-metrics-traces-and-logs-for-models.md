---
id: 01-lesson-9-1-instrumentation-metrics-traces-and-logs-for-models
title: "انسٹرومنٹیشن (Instrumentation): ماڈلز کے پیمانے، ٹریسز اور لاگز"
sidebar_label: "انسٹرومنٹیشن: ماڈلز کے پیمانے، ٹریسز اور لاگز"
---

# انسٹرومنٹیشن (Instrumentation): ماڈلز کے پیمانے، ٹریسز اور لاگز

جو چیز آپ دیکھ نہیں سکتے، آپ اسے درست نہیں کر سکتے۔ عام سافٹ ویئر میں، اگر سرور کریش ہو جائے تو لاگز غلطی ظاہر کر دیتے ہیں۔ اے آئی میں، ایک ماڈل "خاموشی سے کریش" ہو سکتا ہے—یعنی غلط، متعصب، یا لایعنی جوابات دے کر—جبکہ سرور رپورٹ کرتا ہے کہ سب کچھ ٹھیک ہے۔ لہذا، اے آئی میں مشاہدہ پذیری (Observability) کے لیے انسٹرومنٹیشن کی ایک ایسی نئی تہہ درکار ہے جو اس "بلیک باکس" کے اندر دیکھ سکے۔

## اے آئی آبزرویبیلیٹی کے تین ستون

### 1- میٹرکس (میٹر اور ڈیش بورڈ)
میٹرکس اعداد و شمار پر مبنی وہ پوائنٹس ہیں جو وقت کے ساتھ سسٹم کی مجموعی صحت کو ظاہر کرتے ہیں۔
*   **آپریشنل میٹرکس:** تاخیر (Latency)، تھرو پٹ (Requests per Second)، غلطی کی شرح، اور GPU کا استعمال۔
*   **کاروباری میٹرکس:** تبادلوں کی شرح (Conversion rate)، "تھمبس اپ" کا تناسب، اور سیشن کی طوالت۔
*   **ماڈل میٹرکس:** ٹوکن کا استعمال، کیش ہٹ ریٹ (Cache hit rate)، اور حفاظتی خلاف ورزیوں کی پیمائش (مثلاً "فی گھنٹہ روکے گئے زہریلے پرومپٹس")۔

### 2- لاگز (واقعات کا ریکارڈ)
لاگز انفرادی واقعات کی تفصیلات کو محفوظ کرتے ہیں۔
*   **سٹرکچرڈ JSON لاگز:** اے آئی میں لاگز کا منظم ہونا ضروری ہے۔ ایک لاگ انٹری کو صرف یہ نہیں کہنا چاہیے کہ "درخواست موصول ہوئی،" بلکہ اس میں پرومپٹ ہیش، ماڈل ورژن، ٹمپریچر، یوزر آئی ڈی، اور ٹریس آئی ڈی شامل ہونی چاہیے۔
*   **پیلوڈ (Payload) کا مسئلہ:** عام لاگز چھوٹے ہوتے ہیں، لیکن اے آئی لاگز میں بڑے پرومپٹس (1 لاکھ سے زائد ٹوکنز) ہو سکتے ہیں۔ اخراجات کو سنبھالنے کے لیے سیمپلنگ (صرف 1% ڈیٹا لاگ کرنا) یا بھاری ڈیٹا کو الگ جگہ (جیسے S3) پر محفوظ کرنے کی حکمت عملی ضروری ہے۔

### 3- ٹریسز (سفر کا ریکارڈ)
ٹریسز ایک درخواست کا پیچھا کرتے ہیں جب وہ ایک سروس سے دوسری سروس تک جاتی ہے۔
*   **خیالات کا سلسلہ (Chain of Thought):** ایک ایجنٹک سسٹم میں، صارف کا ایک سادہ سوال ("میرے لیے فلائٹ بک کرو") بیس اندرونی اقدامات کو متحرک کر سکتا ہے: (1) نالج بیس میں تلاش، (2) سوال کی فارمیٹنگ، (3) فلائٹ اے پی آئی کال، (4) نتائج کی تشریح، (5) جواب کی تیاری۔ ٹریسنگ ٹولز اس پورے عمل کو بصری شکل دیتے ہیں، جس سے انجینئرز بالکل بتا سکتے ہیں کہ کس قدم پر تاخیر ہوئی یا کہاں منطق غلط سمت میں مڑ گئی۔

## رازداری کی حامل لاگنگ (Privacy-First Logging)

ڈیبگنگ کے لیے پرومپٹس اور جوابات کو لاگ کرنا ضروری ہے، لیکن یہ رازداری کا ایک بڑا خطرہ ہے۔ صارفین اکثر چیٹ باکسز میں حساس چیزیں (پاس ورڈز، صحت کا ڈیٹا، کوڈ) ٹائپ کر دیتے ہیں۔

*   **حساس معلومات کا اخراج (PII Redaction):** ایک مخصوص اسکینر ایپلی کیشن اور لاگنگ سسٹم کے درمیان ہونا چاہیے۔ یہ لاگ لکھنے سے پہلے خود بخود کریڈٹ کارڈ، ای میل، یا شناختی کارڈ جیسے ڈیٹا کی شناخت کرتا ہے اور اسے چھپا دیتا ہے۔
*   **ڈیٹا ماسکنگ:** انتہائی حساس معلومات کے لیے ہم "ہیشنگ" استعمال کرتے ہیں۔ ہم لاگ کر سکتے ہیں کہ "صارف X نے 'موضوع ہیش A' کے بارے میں پوچھا،" جس سے ہم اصل متن دیکھے بغیر تعدد (frequency) کا شمار کر سکتے ہیں۔

## کوریلیشن آئی ڈی (Correlation ID)

مشاہدہ پذیری کی سنہری لڑی کوریلیشن آئی ڈی ہے۔ یہ منفرد کوڈ فرنٹ اینڈ پر تیار کیا جاتا ہے اور بیک اینڈ، ڈیٹا بیس، ماڈل اور اینالیٹکس تک منتقل ہوتا ہے۔ یہ انجینئر کو اس قابل بناتا ہے کہ وہ کہہ سکے، "مجھے دکھاؤ کہ گاہک نمبر 402 کی رپورٹ کردہ اس ایک ناکام تعامل کے دوران اصل میں کیا ہوا تھا؟" اس کے بغیر، اے آئی سسٹم میں خرابی تلاش کرنا ناممکن ہے۔