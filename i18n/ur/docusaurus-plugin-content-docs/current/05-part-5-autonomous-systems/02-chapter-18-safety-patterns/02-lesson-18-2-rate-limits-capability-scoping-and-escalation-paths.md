---
id: 02-lesson-18-2-rate-limits-capability-scoping-and-escalation-paths
title: "ریٹ لیمٹس (Rate Limits)، صلاحیت کا دائرہ کار، اور مدد حاصل کرنے کے راستے"
sidebar_label: "ریٹ لیمٹس اور اسکوپنگ"
---

# ریٹ لیمٹس (Rate Limits)، صلاحیت کا دائرہ کار، اور مدد حاصل کرنے کے راستے

اگر کوئی ایجنٹ کسی نہ ختم ہونے والے چکر (infinite loop) میں پھنس جائے تو کیا ہوگا؟ اگر اس چکر میں "ای میل بھیجنا" شامل ہے، تو آپ کا ای میل سسٹم تباہ ہو جائے گا۔ اگر اس میں "سرور بک کرنا" شامل ہے، تو آپ کا دیوالیہ نکل سکتا ہے۔

## طرزِ عمل پر مبنی ریٹ لیمیٹنگ
عام API ریٹ لیمٹس (مثلاً 100 درخواستیں فی سیکنڈ) حملوں سے بچاؤ کے لیے ہوتی ہیں۔ ایجنٹ ریٹ لیمٹس دماغی سکون اور نظام کی سلامتی کے لیے ہوتی ہیں۔
*   **بجٹ کا اصول (Budget Pattern):** ہر ایجنٹ کو ایک "ٹوکن بجٹ" (مثلاً 2.00 ڈالر) یا "اسٹیپس بجٹ" (مثلاً 10 بار کوشش) دیا جاتا ہے۔ اگر وہ ان حدود میں مسئلہ حل نہیں کر پاتا، تو سسٹم اسے روک دیتا ہے۔ یہ ایجنٹ کو "میں ابھی سوچ رہا ہوں..." کے لامتناہی چکر میں پھنسنے سے بچاتا ہے۔
*   **رفتار کی جانچ:** "یہ ایجنٹ ایک منٹ میں 50 ای میل بھیجنے کی کوشش کر رہا ہے۔ یہ انسانی رفتار سے بہت زیادہ ہے اور شاید کسی غلطی کا نتیجہ ہے۔" -> اکاؤنٹ کو منجمد کریں۔

## صلاحیت کا دائرہ کار (کم سے کم اختیار کا اصول)
ایسا ایجنٹ جو صرف "کیلنڈر پڑھنے" کے لیے بنایا گیا ہے، اسے "لکھنے" کی اجازت نہیں ہونی چاہیے۔
*   **حدود کا تعین:** OAuth اسکوپس بہت باریک بینی سے طے ہونے چاہئیں۔ `Calendar.Read` محفوظ ہے، جبکہ `Calendar.ReadWrite` خطرناک۔ اور `Directory.Admin` تو سراسر پاگل پن ہے۔
*   **عارضی اسناد (Ephemeral Credentials):** ایجنٹ کو ایسا ٹوکن دیا جاتا ہے جو صرف کام کی مدت (مثلاً 5 منٹ) کے لیے ہو اور صرف ان مخصوص وسائل کے لیے کارآمد ہو جن کی اسے ضرورت ہے۔

## مدد حاصل کرنے کا راستہ (Escalation Path)
جب کوئی ایجنٹ پھنس جاتا ہے، تو وہ اکثر جھوٹی کامیابی کا دعویٰ کرتا ہے ("میں نے ای میل بھیج دی ہے" - حالانکہ اس نے نہیں بھیجی ہوتی)۔
*   **مدد کا فنکشن:** ایجنٹس کو تربیت دی جانی چاہیے کہ وہ ایک مخصوص فنکشن استعمال کریں: `escalate_to_human(reason="میں پھنس گیا ہوں")`۔ یہ ایجنٹ کی موجودہ حالت کسی انسانی سپورٹ افسر کے پاس منتقل کر دیتا ہے، تاکہ وہ باقی کام مکمل کر سکے۔

ناکامی کو ذہن میں رکھ کر ڈیزائن کریں۔ یہ فرض کر لیں کہ ایجنٹ پھنس جائے گا، اور اسے مدد مانگنے کا ایک باوقار طریقہ فراہم کریں۔